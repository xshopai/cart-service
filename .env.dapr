# Cart Service - Dapr Mode Configuration

# Service Configuration
SERVICE_NAME=cart-service
SERVICE_VERSION=1.0.0
PORT=8008
HOST=0.0.0.0
NODE_ENV=development

# Service Invocation Mode
SERVICE_INVOCATION_MODE=dapr

# Cart Configuration
CART_MAX_ITEMS=50
CART_MAX_ITEM_QUANTITY=99
CART_TTL_DAYS=30
GUEST_CART_TTL_DAYS=7

# CORS Configuration
CORS_ALLOWED_ORIGINS=*

# Dapr sidecar ports (only used in dapr mode)
DAPR_HOST=localhost
DAPR_HTTP_PORT=3508
DAPR_GRPC_PORT=50008
DAPR_STATE_STORE=statestore
DAPR_PUBSUB_NAME=pubsub
DAPR_APP_ID=cart-service

# Redis Direct Connection (fallback / reference)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TLS=false

# Messaging
MESSAGING_PROVIDER=dapr
RABBITMQ_URL=amqp://admin:admin123@localhost:5672/
RABBITMQ_EXCHANGE=xshopai.events

# Logging Configuration
LOG_LEVEL=debug
LOG_FORMAT=console
LOG_TO_FILE=false
LOG_FILE_PATH=./logs/cart-service.log

# =============================================================================
# OpenTelemetry Tracing Configuration
# =============================================================================
# In dapr mode, tracing is handled by Dapr's observability features.
# Set OTEL_TRACES_EXPORTER=none to avoid duplicate traces.
# Option 1: Zipkin (Local Development)
# OTEL_TRACES_EXPORTER=zipkin
# OTEL_EXPORTER_ZIPKIN_ENDPOINT=http://localhost:9411/api/v2/spans

# Option 2: OTLP (OpenTelemetry Collector - Jaeger, Tempo, etc.)
# OTEL_TRACES_EXPORTER=otlp
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# Option 3: Azure Application Insights
# OTEL_TRACES_EXPORTER=azure
# APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=xxx;IngestionEndpoint=https://xxx.in.applicationinsights.azure.com/

OTEL_TRACES_EXPORTER=none
ENABLE_TRACING=false
