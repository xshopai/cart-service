# Cart Service - HTTP Mode Configuration
# Direct service-to-service communication without Dapr
# Use this mode for local development without Dapr sidecar

# Service Configuration
SERVICE_NAME=cart-service
SERVICE_VERSION=1.0.0
PORT=8008
HOST=0.0.0.0
NODE_ENV=development

# Platform Mode
PLATFORM_MODE=direct

# Cart Configuration
CART_MAX_ITEMS=50
CART_MAX_ITEM_QUANTITY=99
CART_TTL_DAYS=30
GUEST_CART_TTL_DAYS=7

# CORS Configuration
CORS_ALLOWED_ORIGINS=*

# Redis Direct Connection (when not using Dapr)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_dev_pass_123
REDIS_TLS=false

# Messaging (direct RabbitMQ for local without Dapr)
MESSAGING_PROVIDER=rabbitmq
RABBITMQ_URL=amqp://admin:admin123@localhost:5672/
RABBITMQ_EXCHANGE=xshopai.events

# Logging Configuration
LOG_LEVEL=debug
LOG_FORMAT=console
LOG_TO_FILE=false
LOG_FILE_PATH=./logs/cart-service.log

# =============================================================================
# OpenTelemetry Tracing Configuration
# =============================================================================
# OTEL_TRACES_EXPORTER controls which exporter to use:
#   - zipkin: Local development with Zipkin
#   - otlp: OpenTelemetry Collector (e.g., Jaeger, Grafana Tempo)
#   - azure: Azure Application Insights
#   - none: Disable tracing (default)
# =============================================================================

# Option 1: Zipkin (Local Development)
OTEL_TRACES_EXPORTER=zipkin
OTEL_EXPORTER_ZIPKIN_ENDPOINT=http://localhost:9411/api/v2/spans

# Option 2: OTLP (OpenTelemetry Collector - Jaeger, Tempo, etc.)
# OTEL_TRACES_EXPORTER=otlp
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# Option 3: Azure Application Insights
# OTEL_TRACES_EXPORTER=azure
# APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=xxx;IngestionEndpoint=https://xxx.in.applicationinsights.azure.com/

# Option 4: Disable tracing
# OTEL_TRACES_EXPORTER=none

# =============================================================================
# Service Discovery
# =============================================================================
CONSUL_URL=http://localhost:8500
CONSUL_HEALTH_HOST=host.docker.internal
